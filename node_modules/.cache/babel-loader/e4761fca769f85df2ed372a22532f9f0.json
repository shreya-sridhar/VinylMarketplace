{"ast":null,"code":"var _jsxFileName = \"/home/shreyamohak/vinyl/vinyl-mp-frontend/vinyl-mp-frontend/src/pages/main/Messages.js\";\nimport React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"http://localhost:3001\";\nexport const API_ROOT = 'http://localhost:3000';\nexport const API_WS_ROOT = 'ws://localhost:3000/cable';\nexport const HEADERS = {\n  'Content-Type': 'application/json',\n  Accept: 'application/json'\n};\n\nclass Messages extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.formatAMPM = date => {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n\n      minutes = minutes < 10 ? '0' + minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return strTime;\n    };\n\n    this.state = {\n      message: \"\"\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        message: e.target.value\n      });\n    };\n\n    this.sendMessage = (e, state) => {\n      fetch(\"http://localhost:3002/messages\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        body: JSON.stringify({\n          \"message[content]\": state.message\n        })\n      }).then(resp => resp.json()).then(data => {\n        console.log(data);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container bootstrap snippets bootdey\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-4 col-md-offset-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"portlet portlet-default\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"portlet-heading\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"portlet-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-circle text-green\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 29\n                  }, this), this.props.user.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"portlet-widgets\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"divider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  \"data-toggle\": \"collapse\",\n                  \"data-parent\": \"#accordion\",\n                  href: \"#chat\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-chevron-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 89\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"clearfix\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"chat\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"portlet-body chat-widget\",\n                  style: {\n                    overflowY: \"auto\",\n                    width: \"auto\",\n                    height: \"300\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"col-lg-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"media\",\n                        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                          class: \"pull-left\",\n                          href: \"#\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            class: \"media-object img-circle img-chat\",\n                            src: \"https://bootdey.com/img/Content/avatar/avatar1.png\",\n                            alt: \"\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 81,\n                            columnNumber: 41\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 80,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          id: \"content\",\n                          class: \"media-body \",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            class: \"media-heading\",\n                            children: [this.props.user.usernam, /*#__PURE__*/_jsxDEV(\"span\", {\n                              class: \"small pull-right\",\n                              children: this.formatAMPM(new Date())\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 85,\n                              columnNumber: 45\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 84,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"This is the beginning of your conversation\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 87,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 83,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 79,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"portlet-footer\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: e => this.sendMessage(e, this.state),\n                  role: \"form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      onChange: this.handleChange,\n                      class: \"form-control\",\n                      placeholder: \"Enter message...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      value: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"clearfix\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 1\n    }, this);\n  }\n\n}\n\nexport default Messages;","map":{"version":3,"sources":["/home/shreyamohak/vinyl/vinyl-mp-frontend/vinyl-mp-frontend/src/pages/main/Messages.js"],"names":["React","Component","API","API_ROOT","API_WS_ROOT","HEADERS","Accept","Messages","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","strTime","state","message","handleChange","e","setState","target","value","sendMessage","fetch","method","headers","body","JSON","stringify","then","resp","json","data","console","log","render","props","user","username","overflowY","width","height","usernam","Date"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst API = \"http://localhost:3001\"\nexport const API_ROOT = 'http://localhost:3000';\nexport const API_WS_ROOT = 'ws://localhost:3000/cable';\nexport const HEADERS = {\n  'Content-Type': 'application/json',\n  Accept: 'application/json',\n};\n\n\nclass Messages extends React.Component {\n// shouldComponentUpdate(nextProps, nextState)\n// {\n//    return false\n// }\n\n    formatAMPM = (date) => {\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var ampm = hours >= 12 ? 'pm' : 'am';\n        hours = hours % 12;\n        hours = hours ? hours : 12; // the hour '0' should be '12'\n        minutes = minutes < 10 ? '0'+minutes : minutes;\n        var strTime = hours + ':' + minutes + ' ' + ampm;\n        return strTime;\n      }\n\n      state = {\n       message:\"\"\n      };\n\n      handleChange = (e) => {\n        this.setState({\n          message : e.target.value\n        });\n      };\n\n      sendMessage = (e,state) => {\n        fetch(\"http://localhost:3002/messages\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n          body: JSON.stringify({\"message[content]\":state.message}),\n        })\n        .then((resp) => resp.json())\n          .then((data) => {\n            console.log(data)\n          })\n       }\n    \n      \n    render() {\n        \n        return (\n                               \n<div class=\"container bootstrap snippets bootdey\">\n    <div class=\"row\">\n        <div class=\"col-md-4 col-md-offset-4\">\n            <div class=\"portlet portlet-default\">\n                <div class=\"portlet-heading\">\n                    <div class=\"portlet-title\">\n                        <h4><i class=\"fa fa-circle text-green\"></i>{this.props.user.username}</h4>\n                    </div>\n                    <div class=\"portlet-widgets\">\n                        <span class=\"divider\"></span>\n                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#chat\"><i class=\"fa fa-chevron-down\"></i></a>\n                    </div>\n                    <div class=\"clearfix\"></div>\n                </div>\n                <div id=\"chat\" >\n                    <div>\n                    <div class=\"portlet-body chat-widget\" style={{overflowY: \"auto\", width: \"auto\", height: \"300\"}}>\n                    \n                        <div class=\"row\">\n                            <div class=\"col-lg-12\">\n                                <div class=\"media\">\n                                    <a class=\"pull-left\" href=\"#\">\n                                        <img class=\"media-object img-circle img-chat\" src=\"https://bootdey.com/img/Content/avatar/avatar1.png\" alt=\"\"></img>\n                                    </a>\n                                    <div id=\"content\" class=\"media-body \">\n                                        <h4 class=\"media-heading\">{this.props.user.usernam}\n                                            <span class=\"small pull-right\">{this.formatAMPM(new Date)}</span>\n                                        </h4>\n                                        <p>This is the beginning of your conversation</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <hr></hr>\n                        \n                    </div>\n                    </div>\n                    <div class=\"portlet-footer\">\n                        <form onSubmit={(e) => this.sendMessage(e, this.state)} role=\"form\">\n                            <div class=\"form-group\">\n                                <textarea onChange={this.handleChange} class=\"form-control\" placeholder=\"Enter message...\"></textarea>\n                            </div>\n                            <div class=\"form-group\">\n                                \n                            <input type=\"submit\" value=\"Submit\" />\n                                <div class=\"clearfix\"></div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>                \n            )\n    }\n}\n\nexport default Messages;\n\n\n"]},"metadata":{},"sourceType":"module"}